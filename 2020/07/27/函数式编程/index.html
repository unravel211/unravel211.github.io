<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>python 函数式编程 | 狐狸不吃肉的技术专栏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="函数式编程1.函数定义：1)什么是函数:函数就是对实现某一特定功能的代码块的封装(就如同生活中造的机器) 2)函数的分类:系统函数: 系统已经定义的,程序可以直接使用的函数 自定义函数: 用户自定义的函数(自己封装的特定功能) 3)定义函数的语法:12345678910&quot;&quot;&quot;def 函数名(形参列表):	函数说明文档	函数体	说明: 1.形参列表  -&gt;  形参的作用是将函数外面的数据传递到">
<meta property="og:type" content="article">
<meta property="og:title" content="python 函数式编程">
<meta property="og:url" content="http://yoursite.com/2020/07/27/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/index.html">
<meta property="og:site_name" content="狐狸不吃肉的技术专栏">
<meta property="og:description" content="函数式编程1.函数定义：1)什么是函数:函数就是对实现某一特定功能的代码块的封装(就如同生活中造的机器) 2)函数的分类:系统函数: 系统已经定义的,程序可以直接使用的函数 自定义函数: 用户自定义的函数(自己封装的特定功能) 3)定义函数的语法:12345678910&quot;&quot;&quot;def 函数名(形参列表):	函数说明文档	函数体	说明: 1.形参列表  -&gt;  形参的作用是将函数外面的数据传递到">
<meta property="og:locale" content="zh">
<meta property="article:published_time" content="2020-07-27T01:38:09.748Z">
<meta property="article:modified_time" content="2020-07-27T02:00:13.932Z">
<meta property="article:author" content="邱泓语">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="狐狸不吃肉的技术专栏" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">狐狸不吃肉的技术专栏</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">技术的进步来源于分享</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-函数式编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/27/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" class="article-date">
  <time datetime="2020-07-27T01:38:09.748Z" itemprop="datePublished">2020-07-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python%E5%9F%BA%E7%A1%80/">python基础</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      python 函数式编程
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h1><h2 id="1-函数定义："><a href="#1-函数定义：" class="headerlink" title="1.函数定义："></a>1.函数定义：</h2><h3 id="1-什么是函数"><a href="#1-什么是函数" class="headerlink" title="1)什么是函数:"></a>1)什么是函数:</h3><p><strong>函数就是对实现某一特定功能的代码块的封装</strong>(就如同生活中造的机器)</p>
<h3 id="2-函数的分类"><a href="#2-函数的分类" class="headerlink" title="2)函数的分类:"></a>2)函数的分类:</h3><p><strong>系统函数:</strong> 系统已经定义的,程序可以直接使用的函数</p>
<p><strong>自定义函数:</strong> 用户自定义的函数(自己封装的特定功能)</p>
<h3 id="3-定义函数的语法"><a href="#3-定义函数的语法" class="headerlink" title="3)定义函数的语法:"></a>3)定义函数的语法:</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">def 函数名(形参列表):</span></span><br><span class="line"><span class="string">	函数说明文档</span></span><br><span class="line"><span class="string">	函数体</span></span><br><span class="line"><span class="string">	</span></span><br><span class="line"><span class="string">说明: </span></span><br><span class="line"><span class="string">1.形参列表  -&gt;  形参的作用是将函数外面的数据传递到函数里面</span></span><br><span class="line"><span class="string">2.函数说明文档  -&gt;  和def保持一个缩进的三个双引号引起来的注释 (说明书)</span></span><br><span class="line"><span class="string">3.函数体  -&gt;  和def保持一个缩进,实现函数功能的一条或者多条语句</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<p>(<strong>特别注意!!!</strong>)函数在定义的时候是不会执行函数体的!!!</p>
<p><strong>case1:</strong>定义一个函数，打印指定字符串中大写字母的个数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upper_count</span><span class="params">(string)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    统计指定字符串中大写字母的个数</span></span><br><span class="line"><span class="string">    :param string: 被统计的字符串</span></span><br><span class="line"><span class="string">    :return: None</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> string:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">'A'</span> &lt;= x &lt;= <span class="string">'Z'</span>:</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">    print(<span class="string">f'<span class="subst">&#123;string&#125;</span> 中大写字母的个数：<span class="subst">&#123;count&#125;</span>'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="4-函数的调用-使用造好的机器"><a href="#4-函数的调用-使用造好的机器" class="headerlink" title="4)函数的调用:(使用造好的机器)"></a>4)函数的调用:(使用造好的机器)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">语法：</span></span><br><span class="line"><span class="string">函数名(实参列表)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">说明:</span></span><br><span class="line"><span class="string">1.实参列表  -&gt;  格式: 数据1, 数据2, 数据3, ...   (实参的个数和形参的个数保持一致)</span></span><br><span class="line"><span class="string">            作用：用来给形参赋值的。（真正传递到函数中使用的数据）</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<p>(<strong>注意!!!</strong>)只有调用函数,才会执行函数的函数体!!!</p>
<p>想要使用上面case1的函数,就必须使用:函数名(实参)调用函数</p>
<h3 id="5-为什么使用函数"><a href="#5-为什么使用函数" class="headerlink" title="5)为什么使用函数:"></a>5)为什么使用函数:</h3><p><strong>函数解决能解决的问题:</strong></p>
<p>函数式编程最主要解决的问题就是实现代码的复用，提高代码的执行效率；将重复操作进行封装，避免造成代码冗余。</p>
<h2 id="2-函数的参数"><a href="#2-函数的参数" class="headerlink" title="2.函数的参数:"></a>2.函数的参数:</h2><p><em>从上面的例子我们已经知道了，函数定义中有形参列表；函数的调用中有实参列表。实参和形参到底是什么？</em></p>
<p><strong>实参：</strong>实际参数，生活中具体的属性的值</p>
<p><strong>形参：</strong>函数式编程中，给具体属性值留通道的值，没有具体意义；形式上作为一个参数传递给函数。</p>
<h3 id="1-位置参数和关键字参数-实参分类-："><a href="#1-位置参数和关键字参数-实参分类-：" class="headerlink" title="1) 位置参数和关键字参数(实参分类)："></a>1) 位置参数和关键字参数(实参分类)：</h3><ul>
<li>a）<code>位置参数:</code>实参直接写（直接将多个数据用逗号隔开），让实参和形参在位置上一一对应</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span><span class="params">(a, b, c)</span>:</span></span><br><span class="line">    print(<span class="string">f'a:<span class="subst">&#123;a&#125;</span>, b:<span class="subst">&#123;b&#125;</span>, c:<span class="subst">&#123;c&#125;</span>'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 单独使用位置参数传参</span></span><br><span class="line">func1(<span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>b）<code>关键字参数：</code>以形参名1 = 值1，形参名2 = 值2…的形式传参</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span><span class="params">(a, b, c)</span>:</span></span><br><span class="line">    print(<span class="string">f'a:<span class="subst">&#123;a&#125;</span>, b:<span class="subst">&#123;b&#125;</span>, c:<span class="subst">&#123;c&#125;</span>'</span>)</span><br><span class="line"><span class="comment"># 以形参名1 = 值1，形参名2 = 值2...的形式传参</span></span><br><span class="line">func1(b=<span class="number">30</span>, c=<span class="number">40</span>, a=<span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>c) <code>关键字和位置参数混用：</code>位置参数必须在关键字参数的前面。否则会报错，类型如下：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span><span class="params">(a, b, c)</span>:</span></span><br><span class="line">    print(<span class="string">f'a:<span class="subst">&#123;a&#125;</span>, b:<span class="subst">&#123;b&#125;</span>, c:<span class="subst">&#123;c&#125;</span>'</span>)</span><br><span class="line"></span><br><span class="line">func1(<span class="number">10</span>, c=<span class="number">30</span>, b=<span class="number">20</span>)    <span class="comment"># a:10, b:20, c:30</span></span><br><span class="line">func1(<span class="number">10</span>, <span class="number">20</span>, c=<span class="number">30</span>)    <span class="comment"># a:10, b:20, c:30</span></span><br><span class="line"><span class="comment"># func1(a=10, 20, 30) </span></span><br><span class="line"><span class="comment"># SyntaxError: positional argument follows keyword argument</span></span><br></pre></td></tr></table></figure>

<h3 id="2-参数默认值-形参-："><a href="#2-参数默认值-形参-：" class="headerlink" title="2) 参数默认值(形参)："></a>2) 参数默认值(形参)：</h3><p>定义函数时以 –&gt;  形参名=值  的形式给参数赋默认值, 调用函数时有默认值的参数可以不用再传参。</p>
<p>(<strong>注意!!!</strong>) 没有默认值的参数必须放在有默认值参数的前面!!!</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 所有的参数都有默认值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span><span class="params">(x=<span class="number">10</span>, y=<span class="number">20</span>, z=<span class="number">30</span>)</span>:</span></span><br><span class="line">    print(<span class="string">f'x:<span class="subst">&#123;x&#125;</span>, y:<span class="subst">&#123;y&#125;</span>, z:<span class="subst">&#123;z&#125;</span>'</span>)</span><br><span class="line"></span><br><span class="line">func2()     <span class="comment"># x:10, y:20, z:30</span></span><br><span class="line">func2(<span class="number">100</span>)   <span class="comment"># x:100, y:20, z:30</span></span><br><span class="line">func2(y=<span class="number">200</span>)  <span class="comment"># x:10, y:200, z:30</span></span><br></pre></td></tr></table></figure>

<h3 id="3）不定长参数："><a href="#3）不定长参数：" class="headerlink" title="3）不定长参数："></a>3）不定长参数：</h3><ul>
<li>a) <code>在形参前面加*:</code> 带一个*的形参，本质就是一个元组，对应的实参会作为这个元组的元素。这种不定长参数的函数只能用<code>位置参数</code>传参!!!</li>
<li>b) <code>在形参前面加**:</code>带两个*的形参，本质就是一个字典，对应的实参会作为这个字典的值。这种不定长参数的函数只能用<code>关键字参数</code>传参!!!</li>
</ul>
<p><strong>case2：</strong>定义一个函数可以求多个数的和</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_sum</span><span class="params">(*num)</span>:</span></span><br><span class="line">    sum1 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> num:</span><br><span class="line">        sum1 += x</span><br><span class="line">    print(sum1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">my_sum(<span class="number">1</span>)  <span class="comment"># 1</span></span><br><span class="line">my_sum(<span class="number">10</span>, <span class="number">20</span>)  <span class="comment"># 30</span></span><br><span class="line">my_sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)  <span class="comment"># 15</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_sum2</span><span class="params">(**num)</span>:</span></span><br><span class="line">    print(num)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">my_sum2(a=<span class="number">10</span>, b=<span class="number">20</span>)  <span class="comment"># &#123;'a': 10, 'b': 20&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="3-函数的返回值"><a href="#3-函数的返回值" class="headerlink" title="3.函数的返回值:"></a>3.函数的返回值:</h2><h3 id="1-什么是返回值-关键字-return"><a href="#1-什么是返回值-关键字-return" class="headerlink" title="1) 什么是返回值:关键字 return"></a>1) 什么是返回值:关键字 return</h3><p><strong>我们都知道函数内部的变量在外部是无法正常使用的，而<code>返回值</code>就是为了将函数里的数据传递到函数外。</strong></p>
<h3 id="2-返回值语法："><a href="#2-返回值语法：" class="headerlink" title="2) 返回值语法："></a>2) 返回值语法：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line"><span class="keyword">return</span> 表达式<span class="number">1</span>,表达式<span class="number">2</span>,....</span><br><span class="line"></span><br><span class="line">说明:</span><br><span class="line"><span class="keyword">return</span> - 关键字，只能出现在函数体中</span><br><span class="line">两个功能：</span><br><span class="line">a.将数据从函数内容扔到函数的外部  </span><br><span class="line">b. 结束函数(执行函数的时候只要遇到<span class="keyword">return</span>函数直接结束)</span><br><span class="line">         </span><br><span class="line">表达式  - 可以一个都没有(相当于 <span class="literal">None</span>)，可以有一个(返回值就是指定数据)，也可以有多个(本质返回的是一个元组)</span><br></pre></td></tr></table></figure>

<p>（<strong>注意</strong>)： 如果函数中没有return（或者执行函数体的时候没有遇到 return）这个函数的返回值就会是 None。若有，返回的值就是函数调用表达式的值</p>
<h3 id="3-函数的调用过程-："><a href="#3-函数的调用过程-：" class="headerlink" title="3) 函数的调用过程(**)："></a>3) 函数的调用过程(**)：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">step0 -&gt; 调用函数</span></span><br><span class="line"><span class="string">step1 -&gt; 回到函数定义的位置</span></span><br><span class="line"><span class="string">step2 -&gt; 传参(用实参给形参赋值；传参的时候必须保证每个参数都有值)</span></span><br><span class="line"><span class="string">step3 -&gt; 执行函数体</span></span><br><span class="line"><span class="string">step4 -&gt; 执行完函数体(a.自然死亡(执行完函数体中的最后一条语句) b.遇到了return)，确定函数返回值(看执行完函数体有没有遇到return,如果遇到了函数的返回值就是return后面的值，否则是 None)</span></span><br><span class="line"><span class="string">step5 -&gt; 回到函数调用的位置接着往后执行(这个时候函数调用表达式的值就是函数的返回值)</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<h2 id="4-全局和局部变量"><a href="#4-全局和局部变量" class="headerlink" title="4.全局和局部变量:"></a>4.全局和局部变量:</h2><h3 id="1-函数的调用过程中内存的变化"><a href="#1-函数的调用过程中内存的变化" class="headerlink" title="1) 函数的调用过程中内存的变化:"></a>1) 函数的调用过程中内存的变化:</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">每次在调用函数的时候,系统会自动为这个函数创建一个独立的栈区间.</span></span><br><span class="line"><span class="string">该栈区间用于保存函数运行过程中产生的数据(函数的参数;函数中声明的变量).</span></span><br><span class="line"><span class="string">当函数调用结束后这个栈区间会自动销毁. -&gt; 压栈</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<h3 id="2-全局变量和局部变量"><a href="#2-全局变量和局部变量" class="headerlink" title="2)全局变量和局部变量:"></a>2)全局变量和局部变量:</h3><ul>
<li>a) <code>全局变量</code>: 没有定义在函数或者类里面的变量都是全局变量，作用域是：从丁一开始到程序结束的任何位置都能使</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">1) global -&gt; 在函数中声明指定的变量是全局变量</span></span><br><span class="line"><span class="string">作用:</span></span><br><span class="line"><span class="string">a.在函数中修改全局变量的值</span></span><br><span class="line"><span class="string">b.在函数中定义一个全局变量</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line">name = <span class="string">'张三'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 在函数中修改全局变量name的值</span></span><br><span class="line">    <span class="keyword">global</span> name</span><br><span class="line">    name = <span class="string">'李四'</span></span><br><span class="line">    <span class="comment"># 在函数中定义全局变量age</span></span><br><span class="line">    <span class="keyword">global</span> age</span><br><span class="line">    age = <span class="number">12</span></span><br><span class="line"></span><br><span class="line">change()</span><br><span class="line">print(name)</span><br><span class="line">print(age)</span><br></pre></td></tr></table></figure>



<ul>
<li>b）<code>局部变量</code>：定义在函数中的变量就是局部变量(形参是局部变量),作用域是:从定义开始到函数结束的任何位置都可以使用.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">2) nonlocal </span></span><br><span class="line"><span class="string">如果希望在局部中的局部去修改局部变量中的值,就可以用nonlocal进行说明 </span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    m = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">nonlocal</span> m</span><br><span class="line">        print(<span class="string">'m1'</span>, m)</span><br><span class="line">        m = <span class="number">120</span></span><br><span class="line">        print(<span class="string">'m2'</span>,m)</span><br><span class="line">    func()</span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"><span class="comment"># m1 100</span></span><br><span class="line"><span class="comment"># m2 120</span></span><br></pre></td></tr></table></figure>

<p><strong>需要强调的是:</strong>定义函数时候给形参赋的默认值保存在堆里</p>
<h2 id="5-匿名函数和递归函数"><a href="#5-匿名函数和递归函数" class="headerlink" title="5.匿名函数和递归函数:"></a>5.匿名函数和递归函数:</h2><h3 id="5-1-匿名函数"><a href="#5-1-匿名函数" class="headerlink" title="5.1 匿名函数:"></a>5.1 匿名函数:</h3><h4 id="1-什么是匿名函数：本质还是函数-普通函数中除了定义的语法其他全部适用于匿名函数"><a href="#1-什么是匿名函数：本质还是函数-普通函数中除了定义的语法其他全部适用于匿名函数" class="headerlink" title="1) 什么是匿名函数：本质还是函数,普通函数中除了定义的语法其他全部适用于匿名函数."></a>1) 什么是匿名函数：本质还是函数,普通函数中除了定义的语法其他全部适用于匿名函数.</h4><h4 id="2-匿名函数的语法"><a href="#2-匿名函数的语法" class="headerlink" title="2)匿名函数的语法:"></a>2)匿名函数的语法:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">定义匿名函数的语法:</span><br><span class="line"><span class="keyword">lambda</span> 形参列表:返回值</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>说明:</span><br><span class="line">lambda -&gt; lambda匿名函数关键字</span><br><span class="line">形参列表 -&gt; '形参1,形参2,...'的形式</span><br><span class="line">返回值 -&gt; 写任何有结果的表达式</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>调用匿名函数: 函数变量(实参列表)</span><br><span class="line">类型是function的数据</span><br></pre></td></tr></table></figure>

<h4 id="3-case1-定义一个匿名函数求两数和"><a href="#3-case1-定义一个匿名函数求两数和" class="headerlink" title="3) case1:  定义一个匿名函数求两数和"></a>3) case1:  定义一个匿名函数求两数和</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">nums = <span class="keyword">lambda</span> a, b: a + b</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">def nums(a,b):</span></span><br><span class="line"><span class="string">    return a+b</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">print(nums(<span class="number">10</span>, <span class="number">20</span>))</span><br><span class="line"></span><br><span class="line">list1 = [<span class="number">10</span>, <span class="string">'abc'</span>, <span class="keyword">lambda</span> a, b: a + b]</span><br><span class="line">print(list1[<span class="number">0</span>] + <span class="number">10</span> - <span class="number">100</span>)  <span class="comment"># -80</span></span><br><span class="line">print(list1[<span class="number">1</span>].join([<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]))  <span class="comment"># 1abc2abc3</span></span><br><span class="line">print(list1[<span class="number">2</span>](<span class="number">1</span>, <span class="number">3</span>))  <span class="comment"># 4</span></span><br></pre></td></tr></table></figure>

<p><em>上面的例子说明匿名函数:lambda 返回的是一个函数数据类型(对象).印证了那句话:Python中一切皆对象.</em></p>
<h4 id="4-case2-三目运算符lambda"><a href="#4-case2-三目运算符lambda" class="headerlink" title="4) case2:三目运算符lambda"></a>4) case2:三目运算符lambda</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="keyword">lambda</span> a: <span class="string">'成年'</span> <span class="keyword">if</span> a &gt;= <span class="number">18</span> <span class="keyword">else</span> <span class="string">'未成年'</span></span><br><span class="line">print(age(<span class="number">17</span>))</span><br></pre></td></tr></table></figure>

<h3 id="5-2-递归函数"><a href="#5-2-递归函数" class="headerlink" title="5.2 递归函数:"></a>5.2 递归函数:</h3><h4 id="1-什么是递归函数-在函数内调用本身的函数就是递归函数-自己调用自己"><a href="#1-什么是递归函数-在函数内调用本身的函数就是递归函数-自己调用自己" class="headerlink" title="1) 什么是递归函数:在函数内调用本身的函数就是递归函数(自己调用自己)"></a>1) 什么是递归函数:在函数内调用本身的函数就是递归函数(自己调用自己)</h4><p>(<strong>重要!!!</strong>)循环能做的事递归都可以做,同样递归可以做的事循环也能做.但是递归深度太深会造成大量内存的损耗</p>
<h4 id="2-如何使用递归"><a href="#2-如何使用递归" class="headerlink" title="2) 如何使用递归:"></a>2) 如何使用递归:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">step1 -&gt; 确定临界值(在临界值的位置结束函数) # 给函数留出口</span></span><br><span class="line"><span class="string">step2 -&gt; 找当次循环(f(n))和上一次循环(f(n-1))之间的关系</span></span><br><span class="line"><span class="string">step3 -&gt; 假设函数的功能已经实现，用f(n-1)去实现f(n)的功能</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<h4 id="3-case1-写一个递归函数：计算1-2-3-4-n"><a href="#3-case1-写一个递归函数：计算1-2-3-4-n" class="headerlink" title="3) case1:写一个递归函数：计算1+2+3+4+..+n"></a>3) case1:写一个递归函数：计算1+2+3+4+..+n</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># f(n) = 1+2+3+4+..+n-1+n</span></span><br><span class="line"><span class="comment"># f(n-1) = 1+2+3+4+...+n-1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_sum</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="comment"># 1.找临界值</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2.关系: my_sum(n) = my_sum(n-1)+n</span></span><br><span class="line">    <span class="keyword">return</span> my_sum(n<span class="number">-1</span>) + n</span><br><span class="line"></span><br><span class="line">print(my_sum(<span class="number">100</span>))</span><br></pre></td></tr></table></figure>

<h4 id="case2-用递归计算斐波那契数列第20个数：1，1，2，3，5，8，13，21…"><a href="#case2-用递归计算斐波那契数列第20个数：1，1，2，3，5，8，13，21…" class="headerlink" title="case2: 用递归计算斐波那契数列第20个数：1，1，2，3，5，8，13，21…"></a>case2: 用递归计算斐波那契数列第20个数：1，1，2，3，5，8，13，21…</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">series</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="comment"># 1.找临界值</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span> <span class="keyword">or</span> n == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="comment"># 2.找关系： series(n) = series(n-1) + series(n-2)</span></span><br><span class="line">    <span class="keyword">return</span> series(n<span class="number">-1</span>) + series(n<span class="number">-2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(series(<span class="number">5</span>))   <span class="comment"># print(5)</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">def series(n):</span></span><br><span class="line"><span class="string">print(series(5))</span></span><br><span class="line"><span class="string">series(5): n=5; if 5==1 or 5==2; return 3 + 2</span></span><br><span class="line"><span class="string">series(4): n=4; if 4==1 or 4==2; return 2 + 1 == 3</span></span><br><span class="line"><span class="string">series(3): n=3; if 3==1 or 3==2; return 1 + 1  -&gt; return 2</span></span><br><span class="line"><span class="string">series(2): n=2; if 2==1 or 2==2; return 1</span></span><br><span class="line"><span class="string">series(1): n=1; if 1==1 or 1==2; return 1</span></span><br><span class="line"><span class="string">series(2): n=2; if 1==1 or 2==2; return 1</span></span><br><span class="line"><span class="string">series(3): n=3; if 3==1 or 3==2; 1 + 1 == 2</span></span><br><span class="line"><span class="string">series(2): return 1</span></span><br><span class="line"><span class="string">series(1): return 1</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<h2 id="6-函数参数注解"><a href="#6-函数参数注解" class="headerlink" title="6.函数参数注解:"></a>6.函数参数注解:</h2><p><em>-&gt; 注解参数类型,可以使用任意类型的对象给函数添加注解(例如数字，字符串，对象实例等等)，不过通常使用类或者字符串</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span> -&gt; int:</span></span><br><span class="line">    <span class="keyword">return</span> x, y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 函数的注解的储存方式:</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">函数注解储存在函数的__annotations__属性中.</span></span><br><span class="line"><span class="string">调用__annotations__方法会返回一个字典</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">print(add.__annotations__) <span class="comment"># &#123;'return': &lt;class 'int'&gt;&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="7-高阶函数"><a href="#7-高阶函数" class="headerlink" title="7.高阶函数:"></a>7.高阶函数:</h2><h3 id="1-实参高阶函数-参数是函数的函数就是实参高阶函数"><a href="#1-实参高阶函数-参数是函数的函数就是实参高阶函数" class="headerlink" title="1) 实参高阶函数:参数是函数的函数就是实参高阶函数"></a>1) 实参高阶函数:参数是函数的函数就是实参高阶函数</h3><ul>
<li>a) 变量可以作为函数的参数(实参)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span><span class="params">(x)</span>:</span></span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">m = <span class="number">12.5</span></span><br><span class="line">func2(<span class="number">10</span>)</span><br><span class="line">func2(m)</span><br></pre></td></tr></table></figure>

<ul>
<li>b) 实参高阶函数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func3</span><span class="params">(x)</span>:</span></span><br><span class="line">    print(x(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">func3(<span class="keyword">lambda</span> m, n: m+n) <span class="comment"># 3</span></span><br></pre></td></tr></table></figure>

<ul>
<li>c) 系统提供的常见的实参高阶函数:max、min、sorted</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">有一个参数key需要传一个函数；被传入的函数需要一个参数和一个返回值，这个参数指向的是序列中的元素，返回值是比较对象</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="comment"># 示例一：求列表中数字各位数和最大的元素</span></span><br><span class="line">list2 = [<span class="number">19</span>, <span class="number">90</span>, <span class="number">78</span>, <span class="number">67</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func3</span><span class="params">(item)</span>:</span></span><br><span class="line">    <span class="comment"># 个位数最大的元素</span></span><br><span class="line">    <span class="comment"># return item%10</span></span><br><span class="line">    <span class="comment"># 各位数的和的最大值</span></span><br><span class="line">    sum1 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> str(item):</span><br><span class="line">        sum1 += int(x)</span><br><span class="line">    <span class="keyword">return</span> sum1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(max(list2, key=func3))  <span class="comment"># 78</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例二：求列表中个位数最大的元素</span></span><br><span class="line">print(max(list2, key=<span class="keyword">lambda</span> item: item % <span class="number">10</span>)) <span class="comment"># 19</span></span><br></pre></td></tr></table></figure>

<ul>
<li>map函数:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">map(函数,序列)  - 将序列中所有的元素按照函数指定的规则进行转换, 返回的是map的对象(map就是容器型数据类型中的一种)。</span></span><br><span class="line"><span class="string">函数需要一个参数和一个返回值，参数指向的是序列中的元素，返回值就是用来替换原来元素的新元素</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">list3 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例1：将列表list3中所有的元素都加1 -&gt; [11, 21, 31, 41]</span></span><br><span class="line">new_list3 = map(<span class="keyword">lambda</span> item: item+<span class="number">1</span>, list3)</span><br><span class="line">print(new_list3, list(new_list3))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例2：将列表list3中的所有的元素都转换成对应的字符串： ['10', '20', '30', '40']</span></span><br><span class="line">new_list3 = map(str, list3)</span><br><span class="line">print(list(new_list3))    <span class="comment"># ['10', '20', '30', '40']</span></span><br></pre></td></tr></table></figure>

<ul>
<li>reduce函数:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">c.</span></span><br><span class="line"><span class="string">reduce(函数，序列) - 对序列中的元素按照函数提供的功能进行累积的操作</span></span><br><span class="line"><span class="string">                   函数需要两个参数,第一个参数是初始化或者上次运算的结果，y指向每一个元素</span></span><br><span class="line"><span class="string">reduce(函数，序列, 初始值)</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line">list3 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例一： 求所有元素的和</span></span><br><span class="line">result = reduce(<span class="keyword">lambda</span> x, y: x+y, list3)</span><br><span class="line">print(result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例二：求所有元素的乘积</span></span><br><span class="line">result = reduce(<span class="keyword">lambda</span> x, y: x*y, list3)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>

<h3 id="2-返回值高阶函数-返回值是函数的函数"><a href="#2-返回值高阶函数-返回值是函数的函数" class="headerlink" title="2) 返回值高阶函数: 返回值是函数的函数"></a>2) 返回值高阶函数: 返回值是函数的函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># func1是返回值高阶函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func2</span><span class="params">(x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> x + y</span><br><span class="line">    <span class="keyword">return</span> func2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(func1()(<span class="number">100</span>, <span class="number">200</span>))    <span class="comment"># func2(100, 200)</span></span><br></pre></td></tr></table></figure>

<h2 id="8-三大神器"><a href="#8-三大神器" class="headerlink" title="8.三大神器:"></a>8.三大神器:</h2><h3 id="8-1-装饰器"><a href="#8-1-装饰器" class="headerlink" title="8.1 装饰器:"></a>8.1 装饰器:</h3><h4 id="1-闭包与装饰器的概念"><a href="#1-闭包与装饰器的概念" class="headerlink" title="1)闭包与装饰器的概念:"></a>1)闭包与装饰器的概念:</h4><p><em>闭包是装饰器的基础,闭包的关键在于变量的作用域.</em></p>
<p><strong>什么是闭包:</strong> <em><code>闭包</code>是指延伸了作用域的函数，在其中能够访问未在函数定义体中定义的非全局变量。未在函数定义体中定义的非全局变量一般都是在嵌套函数中出现的。</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span><span class="params">()</span>:</span></span><br><span class="line">     x = <span class="number">1</span></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">         <span class="keyword">print</span> x <span class="comment"># 1</span></span><br><span class="line">     <span class="keyword">return</span> inner</span><br><span class="line">foo = outer()</span><br><span class="line">foo.func_closure <span class="comment"># doctest: +ELLIPSIS</span></span><br></pre></td></tr></table></figure>

<p><strong>装饰器: -&gt; 本质就是一个函数(同是实参高阶也是返回值高阶函数)</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">在不修改函数的情况下给函数添加新的功能</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">def 函数1(函数名2)</span></span><br><span class="line"><span class="string">    def 函数名3(*args,**kwargs) # 打包</span></span><br><span class="line"><span class="string">        新功能函数体</span></span><br><span class="line"><span class="string">        函数名2(*args,**kwargs) # 拆包</span></span><br><span class="line"><span class="string">    return 函数名3</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">说明:</span></span><br><span class="line"><span class="string">函数名1 -&gt; 装饰器名字,命名的时候与装饰器添加的相关功能进行关联</span></span><br><span class="line"><span class="string">函数名2 -&gt; 任意命名,指向被添加功能函数</span></span><br><span class="line"><span class="string">函数名3 -&gt; 添加完新的功能之后产生的新的函数</span></span><br><span class="line"><span class="string">新功能函数体 -&gt; 实现的代码</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<p>case:简单的装饰器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">start_function</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">new_fn</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(<span class="string">'---------'</span>)</span><br><span class="line">        fn(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> new_fn</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@start_function</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_star</span><span class="params">(n)</span>:</span></span><br><span class="line">    print(<span class="string">'*'</span> * n)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(num1, num2)</span>:</span></span><br><span class="line">    print(num1 + num2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sum(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">print_star(<span class="number">8</span>)</span><br><span class="line"><span class="comment"># 30</span></span><br><span class="line"><span class="comment"># ---------</span></span><br><span class="line"><span class="comment"># ********</span></span><br></pre></td></tr></table></figure>

<h3 id="8-2-迭代器"><a href="#8-2-迭代器" class="headerlink" title="8.2 迭代器:"></a>8.2 迭代器:</h3><h4 id="1-什么是迭代器"><a href="#1-什么是迭代器" class="headerlink" title="1)什么是迭代器:"></a>1)什么是迭代器:</h4><p>迭代器是容器型数据类型,只能通过数据类型转换和生成器来获得迭代器.</p>
<p><strong>&lt;1&gt;哪些数据能够转换成迭代器?</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">所有能够遍历的容器型数据类型都可以转换成迭代器</span><br><span class="line">iter1 = iter([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>])</span><br><span class="line">iter2 = iter(<span class="string">'abc'</span>)</span><br><span class="line">iter3 = iter(&#123;<span class="string">'name'</span>: <span class="string">'小白'</span>, <span class="string">'age'</span>: <span class="number">3</span>, <span class="string">'gender'</span>: <span class="string">'母狗'</span>&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>&lt;2&gt;如何和获取迭代器中的元素?</strong></p>
<p>(***)无论通过什么样的方式(遍历或者next,打印),只要将迭代器中的某个元素拿到了,这个元素在迭代器中不存在了.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list1 = list(iter1)</span><br><span class="line">print(list1, id(iter1)) <span class="comment"># [10, 20, 30, 40] 2003879037064</span></span><br><span class="line"><span class="comment"># 拿过一次之后,iter1中的元素就不再存在了</span></span><br><span class="line">list2 = list(iter1)</span><br><span class="line">print(list2, id(iter1)) <span class="comment"># [] 2003879037064</span></span><br></pre></td></tr></table></figure>

<p><strong>&lt;3&gt;具体如何获取迭代器中的内容呢?</strong></p>
<p>(***)获取单个元素: next() 方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">next(迭代器对象)   -&gt;   获取栈顶的元素(取最上面那个元素)</span></span><br><span class="line"><span class="string">迭代器对象.__next__()   -&gt;   获取栈顶的元素(取最上面那个元素)</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">print(next(iter3)) <span class="comment"># name</span></span><br><span class="line">print(next(iter3)) <span class="comment"># age</span></span><br><span class="line">print(next(iter3)) <span class="comment"># gender</span></span><br><span class="line"><span class="comment"># print(next(iter3)) # StopIteration</span></span><br></pre></td></tr></table></figure>

<p>(**)遍历获取  -&gt;  拿到迭代器中的每一个元素.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> iter2:</span><br><span class="line">    print(<span class="string">f'x:<span class="subst">&#123;x&#125;</span>'</span>)</span><br><span class="line">print(list(iter2)) <span class="comment">#x:a    x:b    x:c    []</span></span><br></pre></td></tr></table></figure>

<h4 id="2-储存特点"><a href="#2-储存特点" class="headerlink" title="2)储存特点:"></a>2)储存特点:</h4><p>可以同时保存多个数据,但没办法直接查看.需要先将数据取出(取出后不能放回),一次只能去一个数据.</p>
<h3 id="8-3-生成器"><a href="#8-3-生成器" class="headerlink" title="8.3 生成器:"></a>8.3 生成器:</h3><h4 id="1-什么是迭代器-1"><a href="#1-什么是迭代器-1" class="headerlink" title="1)什么是迭代器:"></a>1)什么是迭代器:</h4><p><strong>生成器</strong>就是迭代器</p>
<h4 id="2-怎么得到生成器"><a href="#2-怎么得到生成器" class="headerlink" title="2)怎么得到生成器?"></a>2)怎么得到生成器?</h4><p>1.调用一个带有<strong>yield</strong> 关键字的函数就可以得到一个生成器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">	print(<span class="string">'xxxx'</span>)</span><br><span class="line">    print(<span class="string">'vvvv'</span>)</span><br><span class="line">    <span class="keyword">yield</span></span><br><span class="line">result = func()</span><br><span class="line">print(result)	<span class="comment"># &lt;generator object func at 0x000001B7C7961348&gt;</span></span><br><span class="line"><span class="comment"># 是一个generator对象</span></span><br></pre></td></tr></table></figure>

<p>2.用<strong>生成式</strong>写一个生成器,生成式就是生成器的简写</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">列表推导式的[]变成()就变成了生成式</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">gender = (x+<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">5</span>))</span><br><span class="line">print(type(gender))  <span class="comment"># &lt;class 'generator'&gt;</span></span><br><span class="line"></span><br><span class="line">print(next(gender))</span><br><span class="line">print(next(gender))</span><br></pre></td></tr></table></figure>

<h4 id="3-生成式产生数据"><a href="#3-生成式产生数据" class="headerlink" title="3)生成式产生数据:"></a>3)生成式产生数据:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">** 生成器相当于是能够产生数据的算法,里面有yield函数</span></span><br><span class="line"><span class="string">生成器能产生多少个数据,就看执行生成器对应的函数的函数体会遇到几次yield.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">yield 后边表达式的值就是生成器能够产生的数据</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例1:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">101</span>):</span><br><span class="line">        print(<span class="string">'-------------'</span>)</span><br><span class="line">        <span class="keyword">yield</span> i</span><br><span class="line"></span><br><span class="line">f = func()</span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">101</span>:</span><br><span class="line">    print(next(f))</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure>








      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/27/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" data-id="ckd3urvp8000000vm7zswbwdw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2020/07/07/python%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">python中的正则</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/python%E5%9F%BA%E7%A1%80/">python基础</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/07/27/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/">python 函数式编程</a>
          </li>
        
          <li>
            <a href="/2020/07/07/python%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99/">python中的正则</a>
          </li>
        
          <li>
            <a href="/2020/07/07/python%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%80%BB%E7%BB%93/">python字符串的总结</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 邱泓语<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>